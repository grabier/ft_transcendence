(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function l(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=l(n);fetch(n.href,i)}})();function e(a,o="",l={},r=[]){const n=document.createElement(a);return o&&(n.className=o),Object.entries(l).forEach(([i,u])=>{n.setAttribute(i,u)}),r.forEach(i=>{typeof i=="string"?n.appendChild(document.createTextNode(i)):n.appendChild(i)}),n}function N(a,o="w-5 h-5"){const l="http://www.w3.org/2000/svg",r=document.createElementNS(l,"svg");o&&r.setAttribute("class",o);const n=document.createElementNS(l,"use");return n.setAttribute("href",`/assets/sprites.svg#${a}`),r.appendChild(n),r}const t={x:-10,y:-10,width:18,height:18,speedX:0,speedY:0};let m="menu",_="pvp",R=5,L=null,w={up:!1,down:!1},p,g;const T=500,D=1200,G=55*(Math.PI/180),Y=.8,c={x:1,y:50,width:10,height:70,speed:600},s={x:790,y:50,width:10,height:70,speed:600};let C=0,I=0;const E={};function j(){g.fillStyle="black",g.fillRect(0,0,p.width,p.height),g.fillStyle="white",g.font="50px Arial",g.textAlign="center",g.fillText(I.toString(),p.width/4,100),g.fillText(C.toString(),p.width/4*3,100),g.fillRect(p.width/2-2,0,4,p.height),g.fillStyle="white",g.fillRect(t.x,t.y,t.width,t.height),g.fillStyle="red",g.fillRect(c.x,c.y,c.width,c.height),g.fillStyle="blue",g.fillRect(s.x,s.y,s.width,s.height)}function X(){return(Math.random()*90-45)*Math.PI/180}function S(){t.x=p.width/2-t.width/2,t.y=p.height/2-t.width/2,t.speedX=0,t.speedY=0,setTimeout(()=>{if(m==="playing"){let a=Math.random()>.5?1:-1,o=X();t.speedX=a*T*Math.cos(o),t.speedY=T*Math.sin(o)}},1e3)}function z(a){t.x+=t.speedX*a,t.y+=t.speedY*a,E.w&&(c.y-=c.speed*a),E.s&&(c.y+=c.speed*a);let o=!1,l=!1;if(_==="pvp"?(o=E.ArrowUp,l=E.ArrowDown):(o=w.up,l=w.down),o&&(s.y-=s.speed*a),l&&(s.y+=s.speed*a),c.y<0&&(c.y=0),c.y+c.height>p.height&&(c.y=p.height-c.height),s.y<0&&(s.y=0),s.y+s.height>p.height&&(s.y=p.height-s.height),t.speedX>0&&t.x+t.width>=s.x&&t.x<s.x+s.width&&t.y+t.height>s.y&&t.y<s.y+s.height){let r=s.y+s.height/2,i=(t.y+t.height/2-r)/(s.height/2);i>1&&(i=1),i<-1&&(i=-1);let u=i*G,d=T*(1+Math.abs(i)*Y);d=Math.min(d,D),t.speedX=-d*Math.cos(u),t.speedY=d*Math.sin(u),t.x=s.x-t.width}else if(t.x>p.width)if(I++,I==R){m="ended",W();const r=document.getElementById("endLayer"),n=document.getElementById("winnerText");r&&n&&(r.style.display="flex",n.innerText="LEFT PLAYER WINS")}else S();if(t.speedX<0&&t.x<=c.x+c.width&&t.x+t.width>c.x&&t.y+t.height>c.y&&t.y<c.y+c.height){let r=c.y+c.height/2,i=(t.y+t.height/2-r)/(c.height/2);i>1&&(i=1),i<-1&&(i=-1);let u=i*G,d=T*(1+Math.abs(i)*Y);d=Math.min(d,D),t.speedX=d*Math.cos(u),t.speedY=d*Math.sin(u),t.x=c.x+c.width}else if(t.x+t.width<0)if(C++,C==R){m="ended",W();const r=document.getElementById("endLayer"),n=document.getElementById("winnerText");r&&n&&(r.style.display="flex",n.innerText="RIGHT PLAYER WINS")}else S();t.y+t.height>p.height&&(t.speedY=-t.speedY,t.y=p.height-t.height),t.y<0&&(t.speedY=-t.speedY,t.y=0)}let A=0;function q(a){let o;A==0?o=0:o=(a-A)/1e3,A=a,m=="playing"&&z(o),j(),requestAnimationFrame(q)}function J(){L&&clearInterval(L),L=window.setInterval(()=>{if(m!=="playing")return;const a=t.y,o=s.y+s.height/2,l=Math.abs(a-o),r=l/s.speed*1e3;w.up=!1,w.down=!1,l>5&&(a<o?(w.up=!0,setTimeout(()=>{w.up=!1},r)):(w.down=!0,setTimeout(()=>{w.down=!1},r)))},300)}function W(){L&&(clearInterval(L),L=null),w={up:!1,down:!1}}function O(){const a=document.getElementById("app");if(a.innerHTML="",!document.getElementById("game-styles")){const f=document.createElement("style");f.id="game-styles",f.textContent=`
            #gameContainer { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background-color: #222; display: flex; justify-content: center; align-items: center; z-index: 9999; }
            #gameCanvas { background-color: #000; border: 2px solid #fff; box-sizing: border-box; display: block; }
            .overlay-menu { position: absolute; z-index: 10; background-color: rgba(0, 0, 0, 0.9); padding: 40px; border-radius: 15px; border: 1px solid #666; box-shadow: 0 0 20px rgba(0,0,0,0.5); display: flex; flex-direction: column; gap: 15px; color: white; font-family: 'Courier New', Courier, monospace; text-align: center; }
            .overlay-menu h1 { margin: 0 0 10px 0; text-transform: uppercase; }
            .overlay-menu button { padding: 10px 20px; font-size: 1.2em; cursor: pointer; font-family: inherit; font-weight: bold; }
            .overlay-menu input { padding: 10px; font-size: 1.2em; text-align: center; font-family: inherit; }
        `,document.head.appendChild(f)}const o=e("div","overlay-menu",{id:"menuLayer"},[e("h1","",{},["Pong Transcendence"]),e("label","",{},["Points to win:"]),e("input","",{type:"number",id:"scoreInput",value:"5",min:"1"}),e("div","",{style:"display: flex; gap: 20px; justify-content: center;"},[e("button","",{id:"btnPvp"},["VS PLAYER"]),e("button","",{id:"btnAi"},["VS AI"])])]),l=e("div","overlay-menu",{id:"endLayer",style:"display: none;"},[e("h1","",{id:"winnerText"},["WINNER"]),e("button","",{id:"restartBtn"},["BACK TO MENY"])]),r=e("div","overlay-menu",{id:"pauseLayer",style:"display: none;"},[e("h1","",{},["GAME PAUSED"]),e("button","",{id:"continueBtn"},["CONTINUE"])]),n=e("canvas","",{id:"gameCanvas",width:"800",height:"600"}),i=e("div","",{id:"gameContainer"},[o,l,r,n]);a.appendChild(i),p=n,g=p.getContext("2d");const u=document.getElementById("btnPvp"),d=document.getElementById("btnAi"),x=document.getElementById("restartBtn"),b=document.getElementById("continueBtn"),y=document.getElementById("scoreInput");x.addEventListener("click",()=>{l.style.display="none",o.style.display="flex",m="menu",I=0,C=0,S(),j()});const h=f=>{R=parseInt(y.value),o.style.display="none",m="playing",_=f,I=0,C=0,S(),f==="ai"&&J()};if(u.addEventListener("click",()=>h("pvp")),d.addEventListener("click",()=>h("ai")),b.addEventListener("click",()=>{m="playing",r.style.display="none",A=0}),!g){console.error("Couldn't get 2D context");return}console.log("Game loaded, initiating game loop");const v=()=>{const f=p.width/p.height,M=document.getElementById("gameContainer");if(!M)return;const B=M.clientWidth,P=M.clientHeight,H=B/P,k=.95;H>f?(p.style.height=`${P*k}px`,p.style.width=`${P*k*f}px`):(p.style.width=`${B*k}px`,p.style.height=`${B*k/f}px`)};window.addEventListener("resize",v),setTimeout(v,0),document.addEventListener("keydown",f=>{E[f.key]=!0,f.key==="Escape"&&(m==="playing"?(m="paused",r.style.display="flex"):m==="paused"&&(m="playing",r.style.display="none",A=0))}),document.addEventListener("keyup",f=>{E[f.key]=!1}),A=0,q(0)}const U={"SINGLE PLAYER":[{title:"Difficulty",icon:"ðŸ“",action:()=>O()},{title:"Skin",icon:"âš™ï¸"},{title:"Practice",icon:"ðŸŽ¯"}],MULTIPLAYER:[{title:"Local",icon:"ðŸ‘¥",action:()=>O()},{title:"Online",icon:"ðŸŒ"},{title:"Ranking",icon:"ðŸ†"}],TOURNAMENT:[{title:"Local",icon:"4ï¸âƒ£"},{title:"Online",icon:"8ï¸âƒ£"},{title:"Custom",icon:"ðŸ‘‘"}]};function $(a,o){const l=e("div","mode-selector-container");return Object.keys(U).forEach(n=>{const d=e("button",`mode-tab ${n===a?"active":""}`,{},[n]);d.addEventListener("click",()=>{a!==n&&o(n)}),l.appendChild(d)}),l}function F(){const a=document.getElementById("app");a.innerHTML="";let o="SINGLE PLAYER";const l=e("div","min-h-screen grid-background text-black font-sans selection:bg-[#FACC15] pt-[48px] flex flex-col",{},[]),r=e("header","fixed top-0 left-0 w-full z-50 bg-white border-b-2 border-black flex h-12",{},[e("div","h-full border-r-2 border-black w-32 flex justify-center items-center bg-black shrink-0",{},[e("img","h-8 w-auto block object-contain invert",{src:"./assets/lyrics-logo.png",alt:"Transcendence"})]),e("div","marquee-container flex-grow bg-black text-white overflow-hidden flex items-center h-full relative",{},[e("div","marquee-track flex w-max",{},[e("div","marquee-content text-sm font-bold uppercase tracking-widest whitespace-nowrap",{},["Pong Tournament â€¢ Join the Arena â€¢ Win Glory â€¢ Pong Tournament â€¢ Join the Arena â€¢ Win Glory â€¢ Pong Tournament â€¢ Join the Arena â€¢ Win Glory â€¢ "]),e("div","marquee-content text-sm font-bold uppercase tracking-widest whitespace-nowrap",{"aria-hidden":"true"},["Pong Tournament â€¢ Join the Arena â€¢ Win Glory â€¢ Pong Tournament â€¢ Join the Arena â€¢ Win Glory â€¢ Pong Tournament â€¢ Join the Arena â€¢ Win Glory â€¢ "])])]),e("div","h-full border-l-2 border-[#fffff7] w-12 flex justify-center items-center bg-black shrink-0 cursor-pointer hover:bg-neutral-800 transition-colors",{id:"menu-btn"},[e("div","flex flex-col gap-1",{},[e("span","block w-4 h-0.5 bg-[#fffff7]",{}),e("span","block w-4 h-0.5 bg-[#fffff7]",{}),e("span","block w-4 h-0.5 bg-[#fffff7]",{})])])]);l.appendChild(r);const n=e("section","pt-12 pb-4 px-4 flex flex-col items-center justify-center",{},[]),i=e("section","px-4 pb-12",{},[]),u=e("div","grid-layout max-w-7xl mx-auto",{},[]);i.appendChild(u);const d=()=>{n.innerHTML="",u.innerHTML="";const b=$(o,h=>{o=h,d()});n.appendChild(b),U[o].forEach(h=>{const v=e("div","product-card cursor-pointer",{},[e("div","bg-gray-200 w-full aspect-[3/4] flex items-center justify-center border-b-2 border-black",{},[e("div","text-6xl",{},[h.icon])]),e("div","product-title",{},[h.title])]);h.action&&v.addEventListener("click",h.action),u.appendChild(v)})};d(),l.appendChild(n),l.appendChild(i);const x=e("footer","bg-black text-[#fffff7] py-12 px-4 mt-auto",{},[e("div","max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-8",{},[e("img","h-8 w-auto block object-contain invert",{src:"./assets/lyrics-logo.png",alt:"Transcendence"}),e("div","font-mono text-sm",{},["Â© 2026 All Rights Reserved"])])]);l.appendChild(x),a.appendChild(l)}document.addEventListener("DOMContentLoaded",()=>{const a=document.getElementById("app");function o(){a.innerHTML="";const l=e("div","login-container",{},[e("div","auth-card fade-in",{},[e("div","auth-title",{},[e("p","",{},["Sign in to"]),e("h1","",{},["Transcendence"])]),e("button","btn-oauth-dark",{id:"google-login",type:"button"},[N("icon-google"),"Continue with Google"]),e("button","dev-button",{id:"dev-homepage-btn",type:"button"},["Dev Button Homepage"]),e("button","btn-oauth-dark mt-4 mb-6",{id:"github-login",type:"button"},[N("icon-github"),"Continue with Github"]),e("form","",{id:"login-form"},[e("input","",{type:"email",id:"login-email",name:"email",placeholder:"EMAIL",required:"true"}),e("input","",{type:"password",id:"login-password",name:"password",placeholder:"PASSWORD",required:"true"}),e("button","btn-primary",{type:"submit"},["Log in"])]),e("a","auth-link",{href:"#",id:"reset-password"},["Reset password"]),e("p","",{},["No account? ",e("a","auth-link-gradient",{href:"#",id:"create-account"},["Create one"])])])]);a.appendChild(l),document.getElementById("login-form").addEventListener("submit",async d=>{d.preventDefault();const x=document.getElementById("login-email").value,b=document.getElementById("login-password").value;console.log("LOGIN DATA: ",x,b);try{const y=await fetch("http://localhost:3000/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:x,password:b})}),h=await y.json();console.log("DATA: ",h),y.ok?(console.log("Login exitoso:",h.user),O()):alert(h.error||"Error al iniciar sesiÃ³n")}catch(y){console.error("Error al iniciar sesiÃ³n:",y),alert("Error de conexiÃ³n. Verifica que el servidor estÃ© activo.")}});const n=document.getElementById("dev-homepage-btn");n&&n.addEventListener("click",d=>{d.preventDefault(),F()});function i(){a.innerHTML="";const d=e("div","create-container",{},[e("div","auth-card fade-in",{},[e("div","auth-title",{},[e("p","",{},["Welcome to"]),e("h1","",{},["Transcendence"])]),e("button","btn-oauth-dark mb-6",{id:"google-login",type:"button"},[N("icon-google"),"Continue with Google"]),e("form","",{id:"create-form"},[e("input","",{type:"email",id:"signup-email",name:"email",placeholder:"EMAIL",required:"true"}),e("input","",{type:"password",id:"signup-password",name:"password",placeholder:"PASSWORD",required:"true"}),e("input","",{type:"text",id:"username",name:"username",placeholder:"USERNAME",required:"true"}),e("button","btn-primary",{type:"submit"},["Sign Up"])]),e("p","",{},["Already have an account? ",e("a","auth-link-gradient",{href:"#",id:"back-to-login"},["Log in"])])])]);a.appendChild(d),document.getElementById("create-form").addEventListener("submit",y=>{y.preventDefault();const h=document.getElementById("signup-email").value,v=document.getElementById("signup-password").value,f=document.getElementById("username").value;console.log("SIGN UP DATA:",h,v,f)});const b=document.getElementById("back-to-login");b&&b.addEventListener("click",y=>{y.preventDefault(),o()})}document.getElementById("create-account").addEventListener("click",d=>{d.preventDefault(),i()})}o()});
